{% extends 'layout.html' %}

{% block head %}
   <link rel="stylesheet" href="{{ url_for('static', filename='stylesheets/videojs.min.css') }}">

  <!-- If you'd like to support IE8 (for Video.js versions prior to v7) -->
  <script src="{{ url_for('static', filename='javascripts/videojs-ie8.min.js') }}"></script>

  <style>
    .video-js[tabindex="-1"] {
      width: 100%;
      height: 100%;
    }
  </style>
{% endblock %}

{% block body %}
  <div class="video-player">
    <video
      id="my-video"
      class="video-js"
      controls
      preload="auto"
      width="100%"
      height="100%"
      data-setup="{}"
    >
      <source src="{{ url_for('media_url', filename=filename) }}#t=0.3" type="video/mp4" />
      <p class="vjs-no-js">
        To view this video please enable JavaScript, and consider upgrading to a
        web browser that
        <a href="https://videojs.com/html5-video-support/" target="_blank"
          >supports HTML5 video</a
        >
      </p>
    </video>

    <p>{{ filename }}</p>
  </div>
  <script src="{{ url_for('static', filename='javascripts/videojs.min.js') }}"></script>
  <script src="{{ url_for('static', filename='javascripts/videojs-hotkeys.min.js') }}"></script>
  <script>
    videojs('my-video').ready(function() {
      this.hotkeys({
        volumeStep: 0.1,
        seekStep: 5,
        enableModifiersForNumbers: false
      });
    });
  </script>
{% endblock %}